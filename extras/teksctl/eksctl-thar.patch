From 0f56cd10b8d0c3d3bc19976cbf42bcdea7289330 Mon Sep 17 00:00:00 2001
From: Jacob Vallejo <jake@jahkeup.com>
Date: Mon, 25 Nov 2019 13:44:25 -0800
Subject: [PATCH 1/3] thar: wire up thar launches

---
 go.mod                        |  4 +--
 go.sum                        |  2 ++
 pkg/ami/resolver.go           |  3 +-
 pkg/ctl/create/cluster.go     |  2 ++
 pkg/ctl/create/nodegroup.go   |  2 ++
 pkg/nodebootstrap/userdata.go |  4 +++
 pkg/thar/const.go             |  5 ++++
 pkg/thar/flags.go             | 16 +++++++++++
 pkg/thar/images_static.go     | 30 ++++++++++++++++++++
 pkg/thar/resolver.go          | 25 +++++++++++++++++
 pkg/thar/userdata.go          | 53 +++++++++++++++++++++++++++++++++++
 11 files changed, 143 insertions(+), 3 deletions(-)
 create mode 100644 pkg/thar/const.go
 create mode 100644 pkg/thar/flags.go
 create mode 100644 pkg/thar/images_static.go
 create mode 100644 pkg/thar/resolver.go
 create mode 100644 pkg/thar/userdata.go

diff --git a/go.mod b/go.mod
index dab029e0..34fd5dbb 100644
--- a/go.mod
+++ b/go.mod
@@ -10,6 +10,7 @@ require (
 	github.com/aws/aws-sdk-go v1.25.36
 	github.com/awslabs/goformation v0.0.0-20190320125420-ac0a17860cf1
 	github.com/blang/semver v3.5.1+incompatible
+	github.com/burntsushi/toml v0.3.1 // indirect
 	github.com/christopherhein/go-version v0.0.0-20180807222509-fee8dd1f7c24
 	github.com/cloudflare/cfssl v0.0.0-20190726000631-633726f6bcb7
 	github.com/coredns/coredns v0.0.0-20170910182647-1b60688dc8f7 // indirect
@@ -25,7 +26,6 @@ require (
 	github.com/fluxcd/flux v1.15.0
 	github.com/fluxcd/helm-operator v1.0.0-rc2
 	github.com/go-ini/ini v1.37.0 // indirect
-	github.com/go-stack/stack v1.8.0 // indirect
 	github.com/gobuffalo/envy v1.7.0 // indirect
 	github.com/gobwas/glob v0.2.3
 	github.com/gofrs/flock v0.7.1 // indirect
@@ -50,7 +50,7 @@ require (
 	github.com/miekg/coredns v0.0.0-20170910182647-1b60688dc8f7 // indirect
 	github.com/onsi/ginkgo v1.8.0
 	github.com/onsi/gomega v1.5.0
-	github.com/pelletier/go-toml v1.4.0 // indirect
+	github.com/pelletier/go-toml v1.4.0
 	github.com/peterbourgon/diskv v2.0.1+incompatible // indirect
 	github.com/pkg/errors v0.8.1
 	github.com/pkg/sftp v1.8.3 // indirect
diff --git a/go.sum b/go.sum
index 21257acc..546ec3ae 100644
--- a/go.sum
+++ b/go.sum
@@ -140,6 +140,8 @@ github.com/bshuster-repo/logrus-logstash-hook v0.0.0-20170517171303-d2c0ecc1836d
 github.com/bugsnag/bugsnag-go v0.0.0-20141110184014-b1d153021fcd/go.mod h1:2oa8nejYd4cQ/b0hMIopN0lCRxU0bueqREvZLWFrtK8=
 github.com/bugsnag/osext v0.0.0-20130617224835-0dd3f918b21b/go.mod h1:obH5gd0BsqsP2LwDJ9aOkm/6J86V6lyAXCoQWGw3K50=
 github.com/bugsnag/panicwrap v0.0.0-20151223152923-e2c28503fcd0/go.mod h1:D/8v3kj0zr8ZAKg1AQ6crr+5VwKN5eIywRkfhyM/+dE=
+github.com/burntsushi/toml v0.3.1 h1:XebFhzi1T+XmBZG9aKnQnA50YOydJUYK7g5SM40w+ik=
+github.com/burntsushi/toml v0.3.1/go.mod h1:tCq67G3LEDB9hykA6+KWl2FPEy0nPcvE8TTBhtOtdGs=
 github.com/c-bata/go-prompt v0.2.2/go.mod h1:VzqtzE2ksDBcdln8G7mk2RX9QyGjH+OVqOCSiVIqS34=
 github.com/caarlos0/ctrlc v1.0.0 h1:2DtF8GSIcajgffDFJzyG15vO+1PuBWOMUdFut7NnXhw=
 github.com/caarlos0/ctrlc v1.0.0/go.mod h1:CdXpj4rmq0q/1Eb44M9zi2nKB0QraNKuRGYGrrHhcQw=
diff --git a/pkg/ami/resolver.go b/pkg/ami/resolver.go
index 346a14c6..c03cb830 100644
--- a/pkg/ami/resolver.go
+++ b/pkg/ami/resolver.go
@@ -3,6 +3,7 @@ package ami
 import (
 	"github.com/aws/aws-sdk-go/service/ec2/ec2iface"
 	"github.com/aws/aws-sdk-go/service/ssm/ssmiface"
+	"github.com/weaveworks/eksctl/pkg/thar"
 )
 
 // MultiResolver is a Resolver that delegates to one or more Resolvers.
@@ -37,7 +38,7 @@ type Resolver interface {
 // NewDefaultResolver returns a static resolver that delegates on StaticGPUResolver and StaticDefaultResolver
 func NewDefaultResolver() Resolver {
 	return &MultiResolver{
-		delegates: []Resolver{&StaticGPUResolver{}, &StaticDefaultResolver{}},
+		delegates: []Resolver{&StaticGPUResolver{}, thar.NewImageResolver(), &StaticDefaultResolver{}},
 	}
 }
 
diff --git a/pkg/ctl/create/cluster.go b/pkg/ctl/create/cluster.go
index eccfcd77..c08731ab 100644
--- a/pkg/ctl/create/cluster.go
+++ b/pkg/ctl/create/cluster.go
@@ -15,6 +15,7 @@ import (
 	"github.com/weaveworks/eksctl/pkg/ctl/cmdutils"
 	"github.com/weaveworks/eksctl/pkg/kops"
 	"github.com/weaveworks/eksctl/pkg/printers"
+	"github.com/weaveworks/eksctl/pkg/thar"
 	"github.com/weaveworks/eksctl/pkg/utils"
 	"github.com/weaveworks/eksctl/pkg/utils/kubeconfig"
 	"github.com/weaveworks/eksctl/pkg/vpc"
@@ -66,6 +67,7 @@ func createClusterCmd(cmd *cmdutils.Cmd) {
 		fs.StringVar(&ng.Name, "nodegroup-name", "", fmt.Sprintf("name of the nodegroup (generated if unspecified, e.g. %q)", exampleNodeGroupName))
 		fs.BoolVar(&params.withoutNodeGroup, "without-nodegroup", false, "if set, initial nodegroup will not be created")
 		cmdutils.AddCommonCreateNodeGroupFlags(fs, cmd, ng)
+		thar.AddCreateNodeGroupFlags(fs)
 	})
 
 	cmd.FlagSetGroup.InFlagSet("Cluster and nodegroup add-ons", func(fs *pflag.FlagSet) {
diff --git a/pkg/ctl/create/nodegroup.go b/pkg/ctl/create/nodegroup.go
index 3e50b902..60ca6cd0 100644
--- a/pkg/ctl/create/nodegroup.go
+++ b/pkg/ctl/create/nodegroup.go
@@ -13,6 +13,7 @@ import (
 	"github.com/weaveworks/eksctl/pkg/authconfigmap"
 	"github.com/weaveworks/eksctl/pkg/ctl/cmdutils"
 	"github.com/weaveworks/eksctl/pkg/printers"
+	"github.com/weaveworks/eksctl/pkg/thar"
 	"github.com/weaveworks/eksctl/pkg/utils"
 )
 
@@ -52,6 +53,7 @@ func createNodeGroupCmd(cmd *cmdutils.Cmd) {
 		fs.StringVarP(&ng.Name, "name", "n", "", fmt.Sprintf("name of the new nodegroup (generated if unspecified, e.g. %q)", exampleNodeGroupName))
 		cmdutils.AddCommonCreateNodeGroupFlags(fs, cmd, ng)
 		fs.BoolVarP(&params.managed, "managed", "", false, "Create EKS-managed nodegroup")
+		thar.AddCreateNodeGroupFlags(fs)
 	})
 
 	cmd.FlagSetGroup.InFlagSet("IAM addons", func(fs *pflag.FlagSet) {
diff --git a/pkg/nodebootstrap/userdata.go b/pkg/nodebootstrap/userdata.go
index 0f3bf95b..17de813a 100644
--- a/pkg/nodebootstrap/userdata.go
+++ b/pkg/nodebootstrap/userdata.go
@@ -13,6 +13,8 @@ import (
 	api "github.com/weaveworks/eksctl/pkg/apis/eksctl.io/v1alpha5"
 	"github.com/weaveworks/eksctl/pkg/cloudconfig"
 	"github.com/weaveworks/eksctl/pkg/utils/kubeconfig"
+
+	"github.com/weaveworks/eksctl/pkg/thar"
 )
 
 //go:generate ${GOBIN}/go-bindata -pkg ${GOPACKAGE} -prefix assets -nometadata -o assets.go assets
@@ -175,6 +177,8 @@ func NewUserData(spec *api.ClusterConfig, ng *api.NodeGroup) (string, error) {
 		return NewUserDataForUbuntu1804(spec, ng)
 	case api.NodeImageFamilyWindowsServer2019FullContainer, api.NodeImageFamilyWindowsServer2019CoreContainer:
 		return newUserDataForWindows(spec, ng)
+	case thar.NodeImageFamilyThar:
+		return thar.NewUserDataForThar(spec, ng)
 	default:
 		return "", nil
 	}
diff --git a/pkg/thar/const.go b/pkg/thar/const.go
new file mode 100644
index 00000000..1a6c89f5
--- /dev/null
+++ b/pkg/thar/const.go
@@ -0,0 +1,5 @@
+package thar
+
+const (
+	NodeImageFamilyThar = "thar"
+)
diff --git a/pkg/thar/flags.go b/pkg/thar/flags.go
new file mode 100644
index 00000000..823a3a14
--- /dev/null
+++ b/pkg/thar/flags.go
@@ -0,0 +1,16 @@
+package thar
+
+import "github.com/spf13/pflag"
+
+var (
+	flagEnableAdminContainer bool    = true
+	flagBaseTOMLFile         string  = ""
+	flagTharImageVersion     imageID = defaultTharImageVersion
+)
+
+// AddCreateNodeGroupFlags appends thar related flags to the command's flagset.
+func AddCreateNodeGroupFlags(fs *pflag.FlagSet) {
+	fs.BoolVar(&flagEnableAdminContainer, "node-admin-container", flagEnableAdminContainer, "Enable the Thar Admin container")
+	fs.StringVar(&flagBaseTOMLFile, "node-settings-toml", flagBaseTOMLFile, "Provide a base settings.toml userdata for NodeGroup")
+	fs.StringVar(&flagTharImageVersion, "node-image-version", flagTharImageVersion, "Thar image version (advanced usage)")
+}
diff --git a/pkg/thar/images_static.go b/pkg/thar/images_static.go
new file mode 100644
index 00000000..ed3b4f44
--- /dev/null
+++ b/pkg/thar/images_static.go
@@ -0,0 +1,30 @@
+package thar
+
+type imageID = string
+type versionID = string
+type regionID = string
+
+type regionalListing = map[regionID]imageID
+
+// version in this case *is not* kubernetes, it's thar.
+type versionListing = map[versionID]regionalListing
+
+const (
+	defaultTharImageVersion = "0.1.6"
+)
+
+var staticImages = versionListing{
+	"0.1.6": regionalListing{
+		"us-west-2": "ami-07245e9300b9290c1",
+		"us-east-1": "ami-02a409074bbecb641",
+	},
+	"0.1.5": regionalListing{
+		"us-west-2": "ami-0b00816dd82d05e1f",
+	},
+	"0.1.4": regionalListing{
+		"us-west-2": "ami-0331423be16b32cca",
+	},
+	"0.1.3": regionalListing{
+		"us-west-2": "ami-0346bb6ef129f9f11",
+	},
+}
diff --git a/pkg/thar/resolver.go b/pkg/thar/resolver.go
new file mode 100644
index 00000000..62c46cbf
--- /dev/null
+++ b/pkg/thar/resolver.go
@@ -0,0 +1,25 @@
+package thar
+
+import "errors"
+
+type imageResolver struct{}
+
+func NewImageResolver() *imageResolver {
+	return &imageResolver{}
+}
+
+func (*imageResolver) Resolve(region, _kubeVersion, _instanceType, imageFamily string) (string, error) {
+	if imageFamily != NodeImageFamilyThar {
+		return "", nil
+	}
+	return resolveTharImage(flagTharImageVersion, region)
+}
+
+func resolveTharImage(version versionID, region regionID) (string, error) {
+	if byRegion, ok := staticImages[version]; ok {
+		if image, ok := byRegion[region]; ok {
+			return image, nil
+		}
+	}
+	return "", errors.New("unknown image by region and version")
+}
diff --git a/pkg/thar/userdata.go b/pkg/thar/userdata.go
new file mode 100644
index 00000000..b0df3ccc
--- /dev/null
+++ b/pkg/thar/userdata.go
@@ -0,0 +1,53 @@
+package thar
+
+import (
+	"encoding/base64"
+
+	toml "github.com/pelletier/go-toml"
+	api "github.com/weaveworks/eksctl/pkg/apis/eksctl.io/v1alpha5"
+)
+
+// NewUserDataForThar generates TOML userdata for bootstrapping a Thar node.
+func NewUserDataForThar(spec *api.ClusterConfig, ng *api.NodeGroup) (string, error) {
+	var (
+		baseTOML *toml.Tree
+		tomlErr  error
+	)
+	if flagBaseTOMLFile != "" {
+		baseTOML, tomlErr = toml.LoadFile(flagBaseTOMLFile)
+	} else {
+		baseTOML, tomlErr = toml.Load("")
+	}
+	if tomlErr != nil {
+		return "", tomlErr
+	}
+
+	return NewUserDataForTharWithBase(spec, ng, baseTOML)
+}
+
+// NewUserDataForThar generates TOML userdata for bootstrapping a Thar node.
+// Additional settings may be provided by supplying a base TOML file to write
+// with.
+func NewUserDataForTharWithBase(spec *api.ClusterConfig, ng *api.NodeGroup, baseTOML *toml.Tree) (string, error) {
+	tree := baseTOML
+	// TODO: check keys prior to use, they're quietly overridden.
+
+	// Make EKS relevant settings overriding anything in the base toml (if it
+	// was provided).
+	tree.SetWithComment("settings.kubernetes.cluster-certificate", "Kubernetes Cluster CA Certificate",
+		false, // insert without commenting it out
+		base64.StdEncoding.EncodeToString([]byte(spec.Status.CertificateAuthorityData)))
+	tree.SetWithComment("settings.kubernetes.api-server", "Kubernetes Control Plane API Endpoint",
+		false, // insert without commenting it out
+		spec.Status.Endpoint)
+	tree.SetWithComment("settings.kubernetes.cluster-name", "Kubernetes Cluster Name",
+		false, // insert without commenting it out
+		spec.Metadata.Name)
+	tree.SetWithComment("settings.host-containers.admin.enabled", "Thar Admin Container",
+		false, // insert without commenting it out
+		flagEnableAdminContainer)
+
+	userdata := base64.StdEncoding.EncodeToString([]byte(tree.String()))
+
+	return userdata, nil
+}
-- 
2.23.0


From f767116255d7a09b2cd680e4aa20e5cb1e8e213a Mon Sep 17 00:00:00 2001
From: Jacob Vallejo <jake@jahkeup.com>
Date: Mon, 25 Nov 2019 18:13:20 -0800
Subject: [PATCH 2/3] thar: add validation at beginning

Without this, errors would not be discovered until much later in the
cluster creation process. This uses a hack where the validation logic is
applied at image retrieval time because adding it to the CLI flow seemed
intrusive at the time. It very much should be revisited.
---
 pkg/ctl/create/cluster.go   |  3 ++-
 pkg/ctl/create/nodegroup.go |  3 ++-
 pkg/thar/flags.go           | 23 ++++++++++++++++++++++-
 pkg/thar/resolver.go        |  9 ++++++++-
 4 files changed, 34 insertions(+), 4 deletions(-)

diff --git a/pkg/ctl/create/cluster.go b/pkg/ctl/create/cluster.go
index c08731ab..3d2bab39 100644
--- a/pkg/ctl/create/cluster.go
+++ b/pkg/ctl/create/cluster.go
@@ -67,9 +67,10 @@ func createClusterCmd(cmd *cmdutils.Cmd) {
 		fs.StringVar(&ng.Name, "nodegroup-name", "", fmt.Sprintf("name of the nodegroup (generated if unspecified, e.g. %q)", exampleNodeGroupName))
 		fs.BoolVar(&params.withoutNodeGroup, "without-nodegroup", false, "if set, initial nodegroup will not be created")
 		cmdutils.AddCommonCreateNodeGroupFlags(fs, cmd, ng)
-		thar.AddCreateNodeGroupFlags(fs)
 	})
 
+	cmd.FlagSetGroup.InFlagSet("Initial nodegroup (node-ami-family: thar)", thar.AddCreateNodeGroupFlags)
+
 	cmd.FlagSetGroup.InFlagSet("Cluster and nodegroup add-ons", func(fs *pflag.FlagSet) {
 		cmdutils.AddCommonCreateNodeGroupIAMAddonsFlags(fs, ng)
 	})
diff --git a/pkg/ctl/create/nodegroup.go b/pkg/ctl/create/nodegroup.go
index 60ca6cd0..2500a02a 100644
--- a/pkg/ctl/create/nodegroup.go
+++ b/pkg/ctl/create/nodegroup.go
@@ -53,9 +53,10 @@ func createNodeGroupCmd(cmd *cmdutils.Cmd) {
 		fs.StringVarP(&ng.Name, "name", "n", "", fmt.Sprintf("name of the new nodegroup (generated if unspecified, e.g. %q)", exampleNodeGroupName))
 		cmdutils.AddCommonCreateNodeGroupFlags(fs, cmd, ng)
 		fs.BoolVarP(&params.managed, "managed", "", false, "Create EKS-managed nodegroup")
-		thar.AddCreateNodeGroupFlags(fs)
 	})
 
+	cmd.FlagSetGroup.InFlagSet("New nodegroup (node-ami-family: thar)", thar.AddCreateNodeGroupFlags)
+
 	cmd.FlagSetGroup.InFlagSet("IAM addons", func(fs *pflag.FlagSet) {
 		cmdutils.AddCommonCreateNodeGroupIAMAddonsFlags(fs, ng)
 	})
diff --git a/pkg/thar/flags.go b/pkg/thar/flags.go
index 823a3a14..32a78c39 100644
--- a/pkg/thar/flags.go
+++ b/pkg/thar/flags.go
@@ -1,6 +1,12 @@
 package thar
 
-import "github.com/spf13/pflag"
+import (
+	"os"
+
+	toml "github.com/pelletier/go-toml"
+	"github.com/pkg/errors"
+	"github.com/spf13/pflag"
+)
 
 var (
 	flagEnableAdminContainer bool    = true
@@ -14,3 +20,18 @@ func AddCreateNodeGroupFlags(fs *pflag.FlagSet) {
 	fs.StringVar(&flagBaseTOMLFile, "node-settings-toml", flagBaseTOMLFile, "Provide a base settings.toml userdata for NodeGroup")
 	fs.StringVar(&flagTharImageVersion, "node-image-version", flagTharImageVersion, "Thar image version (advanced usage)")
 }
+
+func validateFlagArgs() error {
+	if flagBaseTOMLFile != "" {
+		_, fileErr := os.Stat(flagBaseTOMLFile)
+		if fileErr != nil {
+			return errors.Wrapf(fileErr, "cannot use provided file %q", flagBaseTOMLFile)
+		}
+		_, loadErr := toml.LoadFile(flagBaseTOMLFile)
+		if loadErr != nil {
+			return errors.Wrapf(loadErr, "TOML error in provided file %q", flagBaseTOMLFile)
+		}
+	}
+
+	return nil
+}
diff --git a/pkg/thar/resolver.go b/pkg/thar/resolver.go
index 62c46cbf..f2cfcb3f 100644
--- a/pkg/thar/resolver.go
+++ b/pkg/thar/resolver.go
@@ -1,6 +1,6 @@
 package thar
 
-import "errors"
+import "github.com/pkg/errors"
 
 type imageResolver struct{}
 
@@ -12,6 +12,13 @@ func (*imageResolver) Resolve(region, _kubeVersion, _instanceType, imageFamily s
 	if imageFamily != NodeImageFamilyThar {
 		return "", nil
 	}
+
+	// HACK: edit to command level validation is intrusive, so we do it here.
+	validationErr := validateFlagArgs()
+	if validationErr != nil {
+		return "", validationErr
+	}
+
 	return resolveTharImage(flagTharImageVersion, region)
 }
 
-- 
2.23.0


From ef04e8445ffcf520b332deac542dd0851e5b4bb2 Mon Sep 17 00:00:00 2001
From: Jacob Vallejo <jake@jahkeup.com>
Date: Wed, 27 Nov 2019 12:14:06 -0800
Subject: [PATCH 3/3] thar: update aws-node during cluster setup

---
 pkg/ctl/create/cluster.go     | 10 ++++++++++
 pkg/thar/check.go             | 12 ++++++++++++
 pkg/thar/cluster/configure.go | 22 ++++++++++++++++++++++
 3 files changed, 44 insertions(+)
 create mode 100644 pkg/thar/check.go
 create mode 100644 pkg/thar/cluster/configure.go

diff --git a/pkg/ctl/create/cluster.go b/pkg/ctl/create/cluster.go
index 3d2bab39..32f17af2 100644
--- a/pkg/ctl/create/cluster.go
+++ b/pkg/ctl/create/cluster.go
@@ -16,6 +16,7 @@ import (
 	"github.com/weaveworks/eksctl/pkg/kops"
 	"github.com/weaveworks/eksctl/pkg/printers"
 	"github.com/weaveworks/eksctl/pkg/thar"
+	tharcl "github.com/weaveworks/eksctl/pkg/thar/cluster"
 	"github.com/weaveworks/eksctl/pkg/utils"
 	"github.com/weaveworks/eksctl/pkg/utils/kubeconfig"
 	"github.com/weaveworks/eksctl/pkg/vpc"
@@ -366,6 +367,15 @@ func doCreateCluster(cmd *cmdutils.Cmd, ng *api.NodeGroup, params *createCluster
 			return err
 		}
 
+		// TODO: refactor AMI Families with interfaces for additional setup steps.
+		if thar.InNodeGroups(cfg.NodeGroups...) {
+			logger.Info("Configuring cluster for Thar nodes")
+			err := tharcl.Configure(cfg, ctl)
+			if err != nil {
+				return err
+			}
+		}
+
 		for _, ng := range cfg.NodeGroups {
 			// authorise nodes to join
 			if err = authconfigmap.AddNodeGroup(clientSet, ng); err != nil {
diff --git a/pkg/thar/check.go b/pkg/thar/check.go
new file mode 100644
index 00000000..66b3dc91
--- /dev/null
+++ b/pkg/thar/check.go
@@ -0,0 +1,12 @@
+package thar
+
+import api "github.com/weaveworks/eksctl/pkg/apis/eksctl.io/v1alpha5"
+
+func InNodeGroups(ngs ...*api.NodeGroup) bool {
+	for _, ng := range ngs {
+		if ng.AMIFamily == NodeImageFamilyThar {
+			return true
+		}
+	}
+	return false
+}
diff --git a/pkg/thar/cluster/configure.go b/pkg/thar/cluster/configure.go
new file mode 100644
index 00000000..e1ce19fa
--- /dev/null
+++ b/pkg/thar/cluster/configure.go
@@ -0,0 +1,22 @@
+package cluster
+
+import (
+	"github.com/weaveworks/eksctl/pkg/addons/default"
+	api "github.com/weaveworks/eksctl/pkg/apis/eksctl.io/v1alpha5"
+	"github.com/weaveworks/eksctl/pkg/eks"
+)
+
+// Configure tunes a cluster for running Thar nodes.
+func Configure(cfg *api.ClusterConfig, provider *eks.ClusterProvider) error {
+	rawClient, err := provider.NewRawClient(cfg)
+	if err != nil {
+		return err
+	}
+
+	_, err = defaultaddons.UpdateAWSNode(rawClient, cfg.Metadata.Region, false)
+	if err != nil {
+		return err
+	}
+
+	return nil
+}
-- 
2.23.0

